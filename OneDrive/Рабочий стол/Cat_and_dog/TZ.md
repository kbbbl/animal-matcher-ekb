# Техническое задание на проект: «animal-matcher-ekb»

## 1. Цель проекта
Разработка веб-сервиса для анализа и подбора животных из приютов Екатеринбурга с алгоритмом расчета совместимости. Система решает проблему необдуманных усыновлений и последующих возвратов животных в приюты, предоставляя потенциальным хозяевам научно-обоснованные рекомендации. Цель — повысить процент успешных и долгосрочных адаптаций питомцев в новых семьях за счет анализа десятков параметров животного и условий содержания пользователя.

## 2. Роли пользователей
- **Гость**: просмотр каталога животных, использование системы подбора через анкету, отправка заявок на знакомство с животными.
- **Зарегистрированный пользователь** (Потенциальный хозяин): заполнение и редактирование личного профиля-анкеты, просмотр персональных рекомендаций, отслеживание истории заявок.
- **Администратор**: полное управление данными через Django Admin (добавление приютов и животных, обработка заявок, анализ статистики, модерация контента).

## 3. Модели данных (сущности)

### Shelter (Приют)
*Сущность, представляющая приют для животных в Екатеринбурге.*  
**Поля:** `name`, `address`, `phone`, `email`, `description`.

### Animal (Животное)
*Карточка животного, доступного для усыновления.*  
**Поля:**
- `name` (текстовое поле): Кличка животного
- `shelter` (связь ForeignKey к Shelter): Приют, в котором содержится животное
- `species` (текстовое поле): Вид (кошка/собака)
- `breed` (текстовое поле): Порода
- `age` (числовое поле): Возраст в годах
- `size_category` (текстовое поле): Размер (маленький/средний/крупный)
- `child_friendly` (числовое поле, 1-10): Дружелюбие к детям
- `pet_friendly` (числовое поле, 1-10): Отношение к животным
- `activity_level` (числовое поле, 1-10): Уровень активности
- `photos` (поле для изображений): Фотографии животного
- `is_available` (логическое поле): Ищет дом (True/False)

### AdoptionApplication (Заявка на усыновление)
*Заявка пользователя на усыновление животного.*  
**Поля:**
- `animal` (связь ForeignKey к Animal): Животное
- `applicant_name` (текстовое поле): ФИО заявителя
- `applicant_phone` (текстовое поле): Телефон заявителя
- `applicant_email` (поле для email): Email заявителя
- `compatibility_score` (числовое поле, 0-100): Процент совместимости
- `status` (текстовое поле): Статус заявки
- `created_at` (поле даты и времени): Дата создания

## 4. Ключевой функционал (User Stories)
### 4.1. Для гостей и пользователей:
1. **Просмотр каталога с фильтрацией**: Пользователь может просматривать животных с фильтрацией по виду, возрасту, размеру, уровню дружелюбия к детям и другим параметрам. Реализована пагинация, сортировка и поиск по кличке.
2. **Регистрация и заполнение профиля**: Новый пользователь регистрируется и заполняет детальную анкету о своих условиях жизни, опыте и предпочтениях.
3. **Интеллектуальный подбор**: После сохранения профиля система автоматически запускает алгоритм расчета совместимости для всех доступных животных. Результаты выводятся в виде отсортированного списка карточек животных с указанием процента совместимости.
4. **Детальная карточка животного с персональными результатами**: При просмотре карточки животного авторизованный пользователь видит не только общую информацию, но и персональный процент совместимости с подробной разбивкой по критериям.
5. **Подача и отслеживание заявок**: Пользователь может отправить заявку на понравившееся животное и отслеживать статус заявки в личном кабинете.

### 4.2. Для администратора:
7. **Полное управление контентом**: Через Django Admin администратор управляет приютами, животными, пользователями и заявками.
8. **Аналитика и статистика**: Просмотр статистики по пристройству животных, аналитика популярности критериев, мониторинг эффективности алгоритма подбора.
9. **Обработка заявок**: Удобный интерфейс для просмотра, изменения статуса и комментирования заявок от пользователей.

## 5. Аналитика 
Использование библиотеки Pandas для расчета процента совместимости между профилем пользователя и животным. Реализация алгоритма сравнения по 8+ параметрам с весовыми коэффициентами. Использование Plotly для генерации интерактивных графиков совместимости и статистики приютов.